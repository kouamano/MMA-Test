(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 7.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[     26537,        871]
NotebookOptionsPosition[     21904,        702]
NotebookOutlinePosition[     22346,        719]
CellTagsIndexPosition[     22303,        716]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Parallel Test", "Title",
 CellChangeTimes->{{3.529653202970641*^9, 3.529653215349657*^9}, {
  3.622017532476138*^9, 3.62201753295816*^9}}],

Cell[CellGroupData[{

Cell["Automatic", "Section",
 CellChangeTimes->{{3.609819543683392*^9, 3.609819550611126*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"data1", "=", 
    RowBox[{"Parallelize", "[", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"PrimeQ", "[", 
        RowBox[{
         RowBox[{"n", "!"}], "+", "1"}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"n", ",", "400", ",", "600"}], "}"}]}], "]"}], "]"}]}], ";"}],
   "]"}]], "Input",
 CellChangeTimes->{{3.462171513813582*^9, 3.462171567404745*^9}, 
   3.46217163243316*^9, 3.462172390019176*^9, 3.462172458011451*^9, {
   3.462172560927445*^9, 3.4621725628690577`*^9}, 3.620341526725955*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.16009399999999998631672326609987067059`5.224974969023282", ",", "Null"}],
   "}"}]], "Output",
 CellChangeTimes->{
  3.462171577932959*^9, {3.462171616287258*^9, 3.462171635075469*^9}, {
   3.4621716786760178`*^9, 3.462171696580914*^9}, {3.46217234321028*^9, 
   3.4621723929380827`*^9}, {3.462172460522893*^9, 3.462172465616252*^9}, {
   3.4621725482668552`*^9, 3.462172603496736*^9}, {3.482197599525393*^9, 
   3.4821976148953037`*^9}, {3.482197645469199*^9, 3.482197668750114*^9}, 
   3.523784344489106*^9, 3.529653240722021*^9, 3.5418214697174873`*^9, {
   3.5490533662284117`*^9, 3.549053383525375*^9}, 3.609819429338623*^9, 
   3.6203413753567877`*^9, 3.620341405726181*^9, 3.620341529374701*^9, 
   3.6203415855770607`*^9, {3.6203558578289347`*^9, 3.6203558738652067`*^9}, 
   3.622019165159552*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"data2", "=", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"PrimeQ", "[", 
       RowBox[{
        RowBox[{"n", "!"}], "+", "1"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"n", ",", "400", ",", "600"}], "}"}]}], "]"}]}], ";"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.462171653202729*^9, 3.462171663249522*^9}, {
   3.482197628117322*^9, 3.482197629716193*^9}, 3.620341534911962*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "5.24020400000000030615865398431196808815`6.73994810758201", ",", "Null"}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.462171669630157*^9, {3.462172331107697*^9, 3.462172339222454*^9}, 
   3.462172452302142*^9, 3.4821975913999643`*^9, {3.4821976392714233`*^9, 
   3.48219766314994*^9}, 3.5237843559840517`*^9, 3.529653245488777*^9, 
   3.541821474399537*^9, 3.549053376065855*^9, 3.609819434196981*^9, 
   3.620341379027617*^9, 3.620341409298415*^9, 3.620341538738693*^9, 
   3.620341589168407*^9, {3.62035586381245*^9, 3.620355879511691*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"data3", "=", 
    RowBox[{"ParallelTable", "[", 
     RowBox[{
      RowBox[{"PrimeQ", "[", 
       RowBox[{
        RowBox[{"n", "!"}], "+", "1"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"n", ",", "400", ",", "600"}], "}"}]}], "]"}]}], ";"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.462171513813582*^9, 3.462171567404745*^9}, 
   3.46217163243316*^9, 3.462172390019176*^9, 3.462172458011451*^9, {
   3.462172560927445*^9, 3.4621725628690577`*^9}, {3.6203414934602747`*^9, 
   3.62034154261753*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.37094300000000002270894583489280194044`5.589907093279276", ",", "Null"}],
   "}"}]], "Output",
 CellChangeTimes->{{3.529653254050231*^9, 3.5296532594922943`*^9}, 
   3.541821475046364*^9, 3.549053400576393*^9, 3.609819435775605*^9, 
   3.620341379827536*^9, 3.620341410107748*^9, {3.620341520810195*^9, 
   3.620341543407929*^9}, 3.6203415899753942`*^9, {3.620355864849574*^9, 
   3.620355880511294*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["$KernelCount"], "Input",
 CellChangeTimes->{{3.5237843677463207`*^9, 3.523784372556799*^9}}],

Cell[BoxData["12"], "Output",
 CellChangeTimes->{
  3.523784373362543*^9, 3.529653245540543*^9, 3.5418214796067543`*^9, 
   3.549053411297892*^9, 3.609819440623687*^9, 3.620341383479472*^9, 
   3.620341413850697*^9, 3.6203415901883917`*^9, {3.620355865187715*^9, 
   3.6203558808098593`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"data1", "\[Equal]", "data2", "\[Equal]", "data3"}]], "Input",
 CellChangeTimes->{{3.6203415603339443`*^9, 3.6203415694580584`*^9}}],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{{3.620341564976067*^9, 3.62034159040027*^9}, {
  3.620355865466279*^9, 3.620355881231648*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"5.2", "/", "0.35"}]], "Input",
 CellChangeTimes->{{3.620343285207986*^9, 3.620343292823184*^9}, {
  3.6203558910167713`*^9, 3.620355900208811*^9}}],

Cell[BoxData["14.857142857142858`"], "Output",
 CellChangeTimes->{
  3.620343293088335*^9, {3.6203558657504053`*^9, 3.620355901859899*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ParallelEvaluate", "[", "$ProcessID", "]"}]], "Input",
 CellChangeTimes->{{3.62051043853895*^9, 3.62051045807441*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "19878", ",", "19880", ",", "19884", ",", "19893", ",", "19921", ",", 
   "19957", ",", "19984", ",", "20025", ",", "20070", ",", "20126", ",", 
   "20182", ",", "20255"}], "}"}]], "Output",
 CellChangeTimes->{3.6205104626854753`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Manual", "Section",
 CellChangeTimes->{{3.609819543683392*^9, 3.609819565751573*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Get", "[", "\"\<! echo $OMP_NUM_THREADS\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.45902738446419*^9, 3.459027396654055*^9}}],

Cell[BoxData["1"], "Output",
 CellChangeTimes->{3.4590273981070232`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<SubKernels`LocalKernels`\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.458968394077139*^9, 3.458968418201974*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CloseKernels", "[", "]"}]], "Input",
 CellChangeTimes->{{3.4589695638364077`*^9, 3.458969568162383*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"KernelObject", "[", 
    RowBox[{"5", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"6", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"7", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"8", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.458969568566029*^9, 3.458969626912964*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["--cpunodebind", "Subsubsection",
 CellChangeTimes->{{3.458968757273307*^9, 3.4589687592425213`*^9}, {
  3.458969670142055*^9, 3.458969670621443*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpunodebind=0 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.458968449920549*^9}, {
  3.4589696774964457`*^9, 3.458969678099128*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"13", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.458968453674727*^9, 3.458969631877083*^9, 
  3.4589696842869368`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpunodebind=1 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.4589684761752653`*^9}, {
  3.4589696885520897`*^9, 3.4589696891482067`*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"14", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.4589684786587057`*^9, 3.458969632484509*^9, 
  3.458969690674724*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpunodebind=0 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.4589684847131653`*^9}, {
  3.458968553037693*^9, 3.4589685535107517`*^9}, {3.458969695298777*^9, 
  3.458969695748374*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"15", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.458968486173914*^9, 3.458968554674934*^9, 
  3.458969633079404*^9, 3.458969696690666*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpunodebind=1 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.4589684761752653`*^9}, {
  3.458969701192191*^9, 3.458969701631157*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"16", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.4589685651321507`*^9, 3.458969634250524*^9, 
  3.458969702618031*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"ParallelTable", "[", 
    RowBox[{"a", ",", 
     RowBox[{"{", "20000000", "}"}]}], "]"}], ";"}], "]"}]], "Input",
 CellChangeTimes->{{3.4589685693294897`*^9, 3.458968590112338*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"39.309023999999994`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.45896863023025*^9, 3.458969756806271*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"Table", "[", 
    RowBox[{"a", ",", 
     RowBox[{"{", "20000000", "}"}]}], "]"}], ";"}], "]"}]], "Input",
 CellChangeTimes->{{3.4589685693294897`*^9, 3.458968590112338*^9}, {
  3.458968638392414*^9, 3.458968639745521*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.6047559999999947`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.4589686418948727`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CloseKernels", "[", "]"}]], "Input",
 CellChangeTimes->{{3.458968717977228*^9, 3.458968726572205*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"KernelObject", "[", 
    RowBox[{"1", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"2", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"3", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"4", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.458968727637621*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["--cpubind", "Subsubsection",
 CellChangeTimes->{{3.458968757273307*^9, 3.4589687592425213`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpubind=0 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.458968449920549*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"9", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.458968453674727*^9, 3.458969631877083*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpubind=1 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.4589684761752653`*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"10", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.4589684786587057`*^9, 3.458969632484509*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpubind=0 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.4589684847131653`*^9}, {
  3.458968553037693*^9, 3.4589685535107517`*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"11", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.458968486173914*^9, 3.458968554674934*^9, 
  3.458969633079404*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --cpubind=1 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.4589684761752653`*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"12", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.4589685651321507`*^9, 3.458969634250524*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"ParallelTable", "[", 
    RowBox[{"a", ",", 
     RowBox[{"{", "20000000", "}"}]}], "]"}], ";"}], "]"}]], "Input",
 CellChangeTimes->{{3.4589685693294897`*^9, 3.458968590112338*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"39.068059999999996`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.45896863023025*^9, 3.4589696740652523`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"Table", "[", 
    RowBox[{"a", ",", 
     RowBox[{"{", "20000000", "}"}]}], "]"}], ";"}], "]"}]], "Input",
 CellChangeTimes->{{3.4589685693294897`*^9, 3.458968590112338*^9}, {
  3.458968638392414*^9, 3.458968639745521*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"1.7437340000000034`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.4589686418948727`*^9, 3.458969676024825*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"CloseKernels", "[", "]"}]], "Input",
 CellChangeTimes->{{3.458968717977228*^9, 3.458968726572205*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"KernelObject", "[", 
    RowBox[{"9", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"10", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], 
   ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"11", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}], 
   ",", 
   RowBox[{"KernelObject", "[", 
    RowBox[{"12", ",", "\<\"local\"\>", ",", "\<\"<defunct>\"\>"}], "]"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.458968727637621*^9, 3.4589696761487617`*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["--physcpubind", "Subsubsection",
 CellChangeTimes->{{3.458968782159554*^9, 3.458968792698305*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --physcpubind=0 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.458968449920549*^9}, {
  3.458968809981575*^9, 3.458968816933577*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"1", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.4589688193070583`*^9, 3.458969574919331*^9, 
  3.459027423188259*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --physcpubind=1 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.458968449920549*^9}, {
  3.458968809981575*^9, 3.458968825751182*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"2", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.4589688267138042`*^9, 3.4589695756307707`*^9, 
  3.459027423815578*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --physcpubind=2 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.458968449920549*^9}, {
  3.458968809981575*^9, 3.458968832433688*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"3", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.458968833315715*^9, 3.458969576191156*^9, 
  3.459027424376561*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"LaunchKernels", "[", 
  RowBox[{
  "LocalMachine", "[", 
   "\"\<numactl --physcpubind=3 \
/usr/local/Wolfram/Mathematica/7.0/Executables/math -subkernel -noinit \
-mathlink\>\"", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.45896842509127*^9, 3.458968449920549*^9}, {
  3.458968809981575*^9, 3.458968840381918*^9}}],

Cell[BoxData[
 RowBox[{"KernelObject", "[", 
  RowBox[{"4", ",", "\<\"local\"\>"}], "]"}]], "Output",
 CellChangeTimes->{3.45896884139146*^9, 3.4589695773813562`*^9, 
  3.459027424991867*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Timing", "[", 
  RowBox[{
   RowBox[{"ParallelTable", "[", 
    RowBox[{"a", ",", 
     RowBox[{"{", "20000000", "}"}]}], "]"}], ";"}], "]"}]], "Input",
 CellChangeTimes->{{3.4589685693294897`*^9, 3.458968590112338*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"38.06121400000001`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.45896863023025*^9, 3.45896889658293*^9, 
  3.458969622309635*^9, 3.459027470539385*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Multi Thread", "Section",
 CellChangeTimes->{{3.609819543683392*^9, 3.609819550611126*^9}, {
  3.620342518506418*^9, 3.620342526880094*^9}}],

Cell["macbook:", "Text",
 CellChangeTimes->{{3.622019346202201*^9, 3.622019362836318*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"pdata", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"RandomReal", "[", "]"}], ",", 
     RowBox[{"{", "4000", "}"}], ",", 
     RowBox[{"{", "4000", "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.62034252968336*^9, 3.620342552583405*^9}, {
  3.620342605000765*^9, 3.620342652860848*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"AbsoluteTiming", "[", 
  RowBox[{"Timing", "[", 
   RowBox[{
    RowBox[{"PrincipalComponents", "[", "pdata", "]"}], ";"}], "]"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.620342570249131*^9, 3.620342589330126*^9}, {
  3.6203427794287024`*^9, 3.620342795250183*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "36.63948299999999846932041691616177558899`7.584549250223274", ",", 
   RowBox[{"{", 
    RowBox[{
    "70.18987199999999404553818749263882637024`7.866874363702318", ",", 
     "Null"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.620342599145656*^9, 3.620342673979714*^9}, 
   3.6203427240766897`*^9, 3.6203428105779753`*^9, 3.620355992508629*^9, 
   3.622019030915269*^9, 3.622019306855117*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["$KernelCount"], "Input",
 CellChangeTimes->{{3.622019134010291*^9, 3.622019137354064*^9}}],

Cell[BoxData["2"], "Output",
 CellChangeTimes->{{3.622019138321492*^9, 3.62201917063776*^9}}]
}, Open  ]],

Cell["\<\
n003: \:62e1\:5f35\:30e9\:30a4\:30bb\:30f3\:30b9, $KernelCount=12
!echo $OMP_NUM _THREADS
24
24\:30b9\:30ec\:30c3\:30c9\:6709\:52b9/32\:30b9\:30ec\:30c3\:30c9\:767a\:751f\
\
\>", "Text",
 CellChangeTimes->{{3.622018606177905*^9, 3.622018632703051*^9}, {
   3.62201867369221*^9, 3.622018728145323*^9}, {3.622018831982161*^9, 
   3.62201883764789*^9}, 3.6220188969033318`*^9, {3.62201990058208*^9, 
   3.622019908734006*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"1397.622528", "/", "65.008704"}]], "Input",
 CellChangeTimes->{{3.622018741827125*^9, 3.6220187545581627`*^9}}],

Cell[BoxData["21.49900616385154`"], "Output",
 CellChangeTimes->{3.622018756316924*^9}]
}, Open  ]],

Cell["\<\
n007: \:901a\:5e38\:30e9\:30a4\:30bb\:30f3\:30b9, $KernelCount=8
!echo $OMP_NUM_THREADS
32
16\:30b9\:30ec\:30c3\:30c9\:6709\:52b9/32\:30b9\:30ec\:30c3\:30c9\:767a\:751f\
\
\>", "Text",
 CellChangeTimes->{{3.622018606177905*^9, 3.622018711615984*^9}, 
   3.622018843485201*^9, {3.6220188901754303`*^9, 3.6220188928978577`*^9}, {
   3.6220201175799522`*^9, 3.6220201260659313`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"231.638786", "/", "15.367669"}]], "Input",
 CellChangeTimes->{{3.622018402072524*^9, 3.622018417176811*^9}}],

Cell[BoxData["15.073124362582252`"], "Output",
 CellChangeTimes->{3.622018418881962*^9}]
}, Open  ]],

Cell["\<\
ver .10\:306e\:901a\:5e38\:30e9\:30a4\:30bb\:30f3\:30b9\:3067 16\:30b9\:30ec\
\:30c3\:30c9\:304c\:5229\:7528\:306e\:4e0a\:9650\:3089\:3057\:3044\:3002
$KernelCount * 2\:306e\:30b9\:30ec\:30c3\:30c9\:3092\:5229\:7528\:53ef\:80fd\
\:3068\:601d\:308f\:308c\:308b\:3002
\:6700\:592732\:30b9\:30ec\:30c3\:30c9\:306e\:5236\:9650\:304c\:3042\:308b\
\:53ef\:80fd\:6027\:3042\:308a\:3002\
\>", "Text",
 CellChangeTimes->{{3.6220182292314167`*^9, 3.622018272579261*^9}, {
  3.622018922503875*^9, 3.622018945636116*^9}, {3.622020232539637*^9, 
  3.622020283310664*^9}}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{640, 750},
WindowMargins->{{57, Automatic}, {Automatic, 0}},
PrivateNotebookOptions->{"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
FrontEndVersion->"10.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (2014\:5e747\
\:67089\:65e5)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[567, 22, 144, 2, 92, "Title"],
Cell[CellGroupData[{
Cell[736, 28, 94, 1, 64, "Section"],
Cell[CellGroupData[{
Cell[855, 33, 582, 15, 28, "Input"],
Cell[1440, 50, 851, 15, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2328, 70, 464, 13, 28, "Input"],
Cell[2795, 85, 587, 11, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3419, 101, 572, 15, 28, "Input"],
Cell[3994, 118, 449, 9, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4480, 132, 106, 1, 28, "Input"],
Cell[4589, 135, 292, 5, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4918, 145, 155, 2, 28, "Input"],
Cell[5076, 149, 145, 2, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5258, 156, 171, 3, 28, "Input"],
Cell[5432, 161, 139, 2, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5608, 168, 142, 2, 28, "Input"],
Cell[5753, 172, 276, 6, 46, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[6078, 184, 91, 1, 64, "Section"],
Cell[CellGroupData[{
Cell[6194, 189, 151, 2, 28, "Input"],
Cell[6348, 193, 72, 1, 28, "Output"]
}, Open  ]],
Cell[6435, 197, 155, 2, 28, "Input"],
Cell[CellGroupData[{
Cell[6615, 203, 128, 2, 28, "Input"],
Cell[6746, 207, 572, 12, 80, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7355, 224, 155, 2, 35, "Subsubsection"],
Cell[CellGroupData[{
Cell[7535, 230, 343, 8, 121, "Input"],
Cell[7881, 240, 193, 4, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8111, 249, 347, 8, 121, "Input"],
Cell[8461, 259, 193, 4, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8691, 268, 394, 9, 121, "Input"],
Cell[9088, 279, 213, 4, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9338, 288, 343, 8, 121, "Input"],
Cell[9684, 298, 193, 4, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9914, 307, 244, 6, 32, "Input"],
Cell[10161, 315, 157, 3, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[10355, 323, 285, 7, 32, "Input"],
Cell[10643, 332, 138, 3, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[10818, 340, 126, 2, 32, "Input"],
Cell[10947, 344, 550, 12, 99, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[11546, 362, 102, 1, 29, "Subsubsection"],
Cell[CellGroupData[{
Cell[11673, 367, 288, 7, 121, "Input"],
Cell[11964, 376, 165, 3, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12166, 384, 290, 7, 121, "Input"],
Cell[12459, 393, 168, 3, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12664, 401, 341, 8, 121, "Input"],
Cell[13008, 411, 191, 4, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13236, 420, 290, 7, 121, "Input"],
Cell[13529, 429, 168, 3, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13734, 437, 244, 6, 32, "Input"],
Cell[13981, 445, 159, 3, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14177, 453, 285, 7, 32, "Input"],
Cell[14465, 462, 160, 3, 70, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14662, 470, 126, 2, 32, "Input"],
Cell[14791, 474, 585, 14, 70, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[15425, 494, 104, 1, 29, "Subsubsection"],
Cell[CellGroupData[{
Cell[15554, 499, 341, 8, 97, "Input"],
Cell[15898, 509, 192, 4, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[16127, 518, 341, 8, 97, "Input"],
Cell[16471, 528, 194, 4, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[16702, 537, 341, 8, 97, "Input"],
Cell[17046, 547, 190, 4, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[17273, 556, 341, 8, 97, "Input"],
Cell[17617, 566, 191, 4, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[17845, 575, 244, 6, 28, "Input"],
Cell[18092, 583, 202, 4, 28, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[18355, 594, 146, 2, 64, "Section"],
Cell[18504, 598, 90, 1, 30, "Text"],
Cell[18597, 601, 346, 9, 28, "Input"],
Cell[CellGroupData[{
Cell[18968, 614, 291, 7, 28, "Input"],
Cell[19262, 623, 443, 10, 28, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[19742, 638, 104, 1, 28, "Input"],
Cell[19849, 641, 93, 1, 28, "Output"]
}, Open  ]],
Cell[19957, 645, 433, 10, 87, "Text"],
Cell[CellGroupData[{
Cell[20415, 659, 135, 2, 28, "Input"],
Cell[20553, 663, 87, 1, 28, "Output"]
}, Open  ]],
Cell[20655, 667, 390, 9, 87, "Text"],
Cell[CellGroupData[{
Cell[21070, 680, 132, 2, 28, "Input"],
Cell[21205, 684, 88, 1, 28, "Output"]
}, Open  ]],
Cell[21308, 688, 568, 10, 68, "Text"]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
